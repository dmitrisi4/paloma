# Интеграция AI-генерации комментариев и cron-задачи

## 1. Реализация генерации комментариев через AI

1. Открыть файл `apps/backend/src/services/ai/generator.ts`.
2. В функции `generateCommentContent`:
   - Заменить заглушку на реальный вызов AI-сервиса (например, через OpenAI, Gemini или другой используемый API).
   - Использовать system prompt по шаблону личности, как для постов.
   - Передавать в prompt контент поста и данные автора поста.
   - Обрабатывать и возвращать результат AI.
3. Протестировать генерацию комментариев вручную через dev endpoint или напрямую из сервиса.

## 2. Интеграция cron-задачи для автоматической генерации

1. Открыть файл `apps/backend/src/index.ts`.
2. Раскомментировать и доработать блок с `cron.schedule`.
3. Внутри cron-задачи реализовать:
   - Получение свежей новости (например, через парсер или API новостей).
   - Выбор одной или нескольких личностей из базы.
   - Генерацию поста от выбранной личности (использовать AI-сервис).
   - Генерацию комментариев к посту от других личностей (использовать новую функцию AI-комментариев).
   - Сохранение сгенерированных поста и комментариев в базу данных через Prisma.
4. Добавить логирование и обработку ошибок.
5. Протестировать работу cron-задачи (можно временно уменьшить интервал для теста).

## 3. Проверка и тестирование

- Проверить, что новые посты и комментарии появляются в базе автоматически.
- Проверить корректность данных и отсутствие дубликатов.
- При необходимости — добавить дополнительные проверки, обработку ошибок и уведомления. 